<html>

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">

    <title>html15</title>

    <meta name="description" content="hello xiang">
    <meta property="og:description" content="hello xiang">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="hello xiang">


    <meta property="og:type" content="article">
    <meta property="og:site_name" content="刘志翔演示">
    <meta name="twitter:site" content="刘志翔演示">
    <meta property="og:title" content="测试点额标题">
    <meta name="twitter:title" content="测试点额标题">


    <script src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
    <script type="text/javascript" src="http://g.alicdn.com/dingding/open-develop/1.9.0/dingtalk.js"></script>
    <script>

    </script>
</head>

<body>

    <script>
        function addmeta(name, url) {
            // 插入 meta 标签
            var oMeta = document.createElement('meta');
            if (name == 'og:image') {
                oMeta.setAttribute('property', name);
            } else {
                oMeta.name = name;
            }
            oMeta.content = url;
            document.getElementsByTagName('head')[0].appendChild(oMeta);
        }
        function addtitle(title) {
            // 插入 meta 标签
            var oMeta = document.createElement('meta');
            oMeta.name = 'description';
            oMeta.content = title;
            document.getElementsByTagName('head')[0].appendChild(oMeta);
        }

        window.onload = function () {
            //判断浏览器是否是钉钉
            function isdingding() {
                // 判断是不是钉钉
                var ua = navigator.userAgent.toLowerCase();
                return ua.indexOf("dingtalk") >= 0;
            }
            if (isdingding()) {
                dd.biz.navigation.setRight({
                    show: true, //控制按钮显示， true 显示， false 隐藏， 默认true
                    control: true, //是否控制点击事件，true 控制，false 不控制， 默认false
                    showIcon: true, //是否显示icon，true 显示， false 不显示，默认true； 注：具体UI以客户端为准
                    onSuccess: () => {
                        //如果control为true，则onSuccess将在发生按钮点击事件被回调
                        dd.biz.util.share({
                            type: 0, // 分享类型，0:全部组件 默认； 1:只能分享到钉钉；2:不能分享，只有刷新按钮
                            url: window.location.href,
                            content: '这里放内容',
                            title: '这里放标题',
                            image: 'https://m.igrow.cn/assets/img/school/news/p2.jpg',
                            onSuccess: () => { },
                            onFail: () => { }
                        });
                    },
                    onFail: () => { },
                });
            }
        }
    </script>
</body>

</html>